{% extends "main.html" %} 

{% block title %} 
    Add Announcements
{% endblock %} 

{% block content %}
<form action="" method="post" class="grid gap-3">
    {% csrf_token %}
    
    <!-- User-based Announcements -->
    {% if user_type == 'extensioncoor' %}
    <div>        
        <div>
            <p>Agenda: </p>
            <p>{{form2.agenda}}</p>
        </div>
        <div>
            <p>Issued By: </p>
            <p>{{form2.issued_by}}</p>
        </div>
        <div>
            <p>Extension Address: </p>
            <p>{{form2.extension_address}}</p>
        </div>
        <div>
            <p for="id_email">Email:</p>
            <p><input type="email" name="email" maxlength="100" required="" id="id_email"></p>
        </div>
        <div>
            <p for="id_event_date">Event date:</p>
            <p><input type="date" name="event_date" required="" id="id_event_date"></p>
        </div>
    </div>
    {% elif user_type == 'depthead' %}
    <div>
        <h1>Post Announcement: </h1>
        <p>Department Head</p>
    
        <div>
            <div><p>Issued by: </p>{{ form2.issued_by }}</div>
            <div><p>Agenda: </p>{{ form2.agenda }}</div>
        </div>
    </div>
    {% elif user_type == 'researchcoor' %}
    <div>
        <h1>Post Announcement: </h1>
        <p>Research Coordinator</p>
    </div>
    {% endif %}
    


    <!-- General Announcements  -->
    <div>
        <p>Subject: </p>
        {{ form.subject }}
    </div>
    <div>
        <p>Message / Description: </p>
        <textarea name="description" id="id_description" maxlength="200" cols="30" rows="10"></textarea>
    </div>
    <div>
        <p>Image: </p>
        <input type="file" name="image" accept="image/*" id="id_image">
    </div>
    <div>
        <p>Link: </p>
        <input type="text" name="link" value="N/A" maxlength="200" required="" id="id_link">
    </div>
    <div>
        <!-- <p>User Type: </p> -->
        <select name="user_type" id="id_user_type" style="display: none;">
            <option value="Deparment Head" {% if user_type == 'depthead' %} selected {% endif %}>Deparment Head</option>
            <option value="Research Coordinator" {% if user_type == 'researchcoor' %} selected {% endif %}>Research Coordinator</option>
            <option value="Extension Coordinator" {% if user_type == 'extensioncoor' %} selected {% endif %}>Extension Coordinator</option>
        </select>
    </div>
    <br>

    
    <div>
        {{ form.errors }}
        {{ form.non_field_errors }}
    </div>

    <div>
        {{ form.errors }}
        {{ form.non_field_errors }}
    </div>
    <button type="submit">Add Announcement</button>
</form>
{% endblock %} 