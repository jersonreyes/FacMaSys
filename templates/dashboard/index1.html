{% extends 'partials/base.html' %}
{% block title %}Dashboard{% endblock %}
{% block headers %} DASHBOARD {% endblock %}

{% block content %}

{% if user.is_authenticated and user.is_staff and user.is_superuser %}
<!--Graphs-->
    <div class="w-full">
        <div class="chart grid w-full mt-[5vh] min-h-screen">
            <div class="mt-[4vh] dark:white w-full">
                <div class="grid gap-3 grid-cols-3 grid-rows-4 [&>div]:rounded-md min-h-screen w-full">
                    <div class="bg-[#363636] p-[10px] grid col-span-1 row-span-1">
                        <p>Start Chart</p>
                        <p class="text-xs">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do </p>
                    </div>
                    <div class="bg-[#363636] p-[10px] grid col-span-1 row-span-1">
                        <p>Start Chart</p>
                        <p class="text-xs">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do </p>
                    </div>
                    <div class="bg-[#363636] p-[10px] grid col-span-1 row-span-1">
                        <p>Start Chart</p>
                        <p class="text-xs">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do </p>
                    </div>
                    <div class="bg-[#363636] p-[10px] grid col-span-2 row-span-2">
                        <p>Start Chart</p>
                        <p class="text-xs">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do </p>
                        <div id="chart2" class="dark:darkChart"></div>
                    </div>
                    <div class="bg-[#363636] p-[10px] grid col-span-1 row-span-2">
                        <p>Start Chart</p>
                        <p class="text-xs">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do </p>
                        <div id="chart" class="dark:darkChart"></div>
                    </div>
                    <div class="bg-[#363636] p-[10px] grid col-span-3 row-span-1">
                        <p>Start Chart</p>
                        <p class="text-xs">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do </p>
                    </div>
                </div>
            </div>
            
            <script src="../static/js/chartDefault.js"></script>
            <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
            <script>
                var options = chartDefault('area',[{% for months in monthly_sales.index %} '{{ months }}', {% endfor %}], [{% for total in monthly_sales.total %} {{ total }}, {% endfor %}])
                var chart = new ApexCharts(document.querySelector("#chart"), options);
                chart.render();

                var options2 = chartDefault('bar',[{% for product in products_count %} '{{ product.product_title|truncatechars:15 }}', {% endfor %}], [{% for product in products_count %} '{{ product.total }}', {% endfor %}])
                var chart2 = new ApexCharts(document.querySelector("#chart2"), options2);
                chart2.render();
            </script>
        </div>
    </div>
<!--End Graphs-->
{% else %}
    {% include 'dashboard/staff_index.html' %}
{% endif %}
{% endblock %}